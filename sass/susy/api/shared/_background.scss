// Grid Background API
// ===================
// - Sub-pixel rounding can lead to several pixels variation between browsers.

// Grid Background Output
// ----------------------
// $stops     : <list> (gradient color-stops)
// [$show]    : show | show-columns | show-gutters | hide
// [$flow]    : ltr | rtl
@mixin background-grid-output (
  $stops,
  $show         : susy-get(show-grids),
  $line-height  : if(variable-exists(base-line-height), $base-line-height, false),
  $flow         : susy-get(flow)
) {
  $to     : to($flow);

  // set the proper background gradient
  $background: ();

  @if $show and $show != hide {

    @if $show != show-columns and $line-height and function-exists(get-baseline-gradient) {
      $background: append($background, get-baseline-gradient(), comma);
    }

    @if $show != show-baseline {
      $background: append($background, linear-gradient(to $to, $stops...), comma);
    }

    // output styles
    @if mixin-exists(background-image) {
      @include background-image($background);
    } @else {
      background-image: $background;
    }

    @if $show != show-columns and $line-height {
      @if mixin-exists(background-size) {
        @include background-size(100% $line-height);
      } @else {
        background-size: 100% $line-height;
      }
      background-position: left top;
    }

  }
}
