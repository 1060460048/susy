// Container Syntax
// ================

@include test-module('Container Syntax') {

  // container
  // ---------

  @include test('[function] container') {

    // explicit
    $grid: 960px 12 .25 left static;
    $width: container($grid);
    $expect: 960px;

    @include assert-equal($width, $expect,
      'The container-width of "#{$grid}" should be #{$expect}');

    // calculated
    $grid: 12 (6em 1em);
    $width: container($grid);
    $expect: 83em;

    @include assert-equal($width, $expect,
      'The container-width of "#{$grid}" should be #{$expect}');

    // default
    $grid: (1 3 4 2 1) .25;
    $width: container($grid);
    $expect: 100%;

    @include assert-equal($width, $expect,
      'The container-width of "#{$grid}" should be #{$expect}');

    @include use-grid(960px 12 .25) {
      $width: container(isolate);
      $expect: 960px;
      @include assert-equal($width, $expect,
        'Omitted grid-widths should still be respected.');

      $width: container(auto 10);
      $expect: 100%;
      @include assert-equal($width, $expect,
        'Auto container-width should override existing grid.');
    }

  }

  // get-container-width
  // -------------------

  @include test('[function] get-container-width') {
    // args: $container, $column-width, $columns, $gutters, $gutter-position

    // explicit
    $test: get-container-width(80em);
    $expect: 80em;
    @include assert-equal($test, $expect,
      'An explicit container width should be returned without changes.');

    // no info
    $test: get-container-width(false, false);
    $expect: 100%;
    @include assert-equal($test, $expect,
      'An empty container value should return 100%.');

    // not enough info
    $test: get-container-width(auto, false);
    $expect: 100%;
    @include assert-equal($test, $expect,
      'An auto container with no specified widths should return 100%.');

    // calculated (outside-gutters)
    $test: get-container-width(auto, 4em, 7, .5, after);
    $expect: 40em;
    @include assert-equal($test, $expect,
      'The container for "7 (4em 2em) after" should return 40em.');

    // calculated (inside-gutters)
    $test: get-container-width(auto, 4em, 7, .5, inside);
    $expect: 42em;
    @include assert-equal($test, $expect,
      'The container for "7 (4em 2em) inside" should return 42em.');

  }

}
