// Margin Syntax Tests
// ===================

@include output-test-module('Margin Syntax') {

  // pre
  // ---

  $slug: 'pre';
  $grid: 7 .5;

  @include output-test($slug, $grid, '[mixin] pre') {
    @include output-test-setup;

    @include assert-output {
      .test { @include pre(3); }
      .expect { margin-left: 45%; }
    }
  }

  // post
  // ----

  $slug: 'post';
  $grid: (1 2 3 2 1) .25;

  @include output-test($slug, $grid, '[mixin] post') {
    @include output-test-setup;

    @include assert-output {
      .test { @include post(last 2); }
      .expect { margin-right: 35%; }
    }
  }

  // push
  // ----

  $slug: 'push';
  $grid: (1 2 3 2 1) .25;

  @include output-test($slug, $grid, '[mixin] push') {
    @include output-test-setup;

    @include assert-output {
      .test { @include push(first 2); }
      .expect { margin-left: 35%; }
    }
  }

  // pull
  // ----

  $slug: 'pull';
  $grid: (1 2 3 2 1) .25;

  @include output-test($slug, $grid, '[mixin] push') {
    @include output-test-setup {
      .spacer { @include span(first 2); }
      .test, .expect { @include span(3 at 2); }
    }

    @include assert-output {
      .test { @include pull(1 at 2); }
      .expect { margin-left: -22.5%; }
    }
  }

  // squish
  // ------

  $slug: 'squish';
  $grid: (1 2 3 2 1) .25;

  @include output-test($slug, $grid, '[mixin] squish') {
    @include output-test-setup;

    @include assert-output {
      .test { @include squish(first 2, last 2); }
      .expect {
        margin-left: 35%;
        margin-right: 35%;
      }
    }
  }

  // squish: nested
  // --------------

  $slug: 'squish-nested';
  $grid: 9 .5;

  @include output-test($slug, $grid, '[mixin] squish: nested') {
    @include output-test-setup {
      .nest { @include squish(1); }
    }

    @include assert-output {
      .test { @include squish(1, 2 of 7); }
      .expect {
        margin-left: 15%;
        margin-right: 30%;
      }
    }
  }

}
