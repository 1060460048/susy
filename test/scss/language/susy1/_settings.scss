// Susy 1.0 Settings
// =================

// Capture Susy 2.0
$original-columns             : $columns;
$original-gutters             : $gutters;
$original-container           : $container;
$original-column-width        : $column-width;
$original-layout-math         : $layout-math;
$original-layout-method       : $layout-method;
$original-flow                : $flow;
$original-container-position  : $container-position;
$original-gutter-type         : $gutter-type;
$original-gutter-flow         : $gutter-flow;
$original-show-grids          : $show-grids;
$original-box-sizing          : $box-sizing;

// Capture Susy 1.0
$original-container-style     : $container-style;
$original-container-width     : $container-width;

// reset the original grid
@mixin original-grid {
  $columns              : $original-columns;
  $gutters              : $original-gutters;
  $container            : $original-container;
  $column-width         : $original-column-width;
  $layout-math          : $original-layout-math;
  $layout-method        : $original-layout-method;
  $flow                 : $original-flow;
  $container-position   : $original-container-position;
  $gutter-type          : $original-gutter-type;
  $gutter-flow          : $original-gutter-flow;
  $show-grids           : $original-show-grids;
  $box-sizing           : $original-box-sizing;

  $container-style      : $original-container-style;
  $container-width      : $original-container-width;
}

@include test-module('Susy 1.0 Settings') {

  // Translate Susy-1 Settings
  // -------------------------

  @include test('[mixin] translate-susy1-settings') {

    // defaults
    @include translate-susy1-settings;

    @include assert-equal($columns, 12,
      'Default Susy-1 settings have "12" columns');
    @include assert-equal($gutters, .25,
      'Default Susy-1 settings have ".25" gutters');
    @include assert-equal($column-width, 4em,
      'Default Susy-1 settings have "4em" column-width');
    @include assert-equal($container, auto,
      'Default Susy-1 settings have "auto" container');
    @include assert-equal($flow, ltr,
      'Default Susy-1 settings have "ltr" flow');
    @include assert-equal($layout-math, fluid,
      'Default Susy-1 settings have "fluid" layout-math');
    @include assert-equal($gutter-type, outside,
      'Default Susy-1 settings have "outside" gutter-type');
    @include assert-equal($gutter-flow, after,
      'Default Susy-1 settings have "after" gutter-flow');

    // static
    $container-style: static;
    @include translate-susy1-settings;

    @include assert-equal($layout-math, static,
      'Container-style "static" should trigger "static" layout-math');

    // set width
    $container-style: magic;
    $container-width: 80em;
    @include translate-susy1-settings;

    @include assert-equal($layout-math, fluid,
      'Container-style "magic" should trigger "fluid" layout-math');
    @include assert-equal($container, 80em,
      'Explicit container-width should be used for $container');

    // fluid
    $container-style: fluid;
    $container-width: false;
    $column-width: 4em;
    @include translate-susy1-settings;

    @include assert-equal($container, 100%,
      'Fluid container (without fluid width) should default to "100%"');

    @include original-grid;
  }

}
